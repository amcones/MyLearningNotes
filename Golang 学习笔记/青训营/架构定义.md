虽然有些对不起老师，但学校老师在课上讲的架构确实是太浅太小了，以至于很大一部分学生到毕业都只知道MVC。而且在我看来，如今MVC比起架构，更应该说是一种模式。

## 架构的定义

- 是有关软件整体结构与组件的抽象描述
- 用于指导软件系统各个方面的设计

架构实际上对于实现软件的**方法选择**上起着至关重要的指导作用。

## 架构的演进

### 单机

最简单的架构，所有功能在一个进程，并部署在一台机器上。

优点：
- 简单

问题：
- C10K problem（性能瓶颈）
- 运维需要停服

### 单体、垂直应用｜垂直切分

把整个系统垂直切分成多个工作模块，每个工作模块独立完成某一个完整的工作。引入一个统一管理器来管理。每个工作模块还可以进一步拆分成几个工作模块，能够分工协作。

优点：
- 水平扩容
- 运维不需要停服

问题：
- 职责太多，开发效率不高
- 爆炸半径大

### SOA（Service-Oriented Architecture）、微服务｜水平切分

将应用的不同功能单元抽象为服务，定义服务之间的通信标准。**微服务架构**是SOA的去中心化演进方向，提倡服务之间的自由配合。

问题：
- 数据一致性
- 高可用
- 治理
- 解耦 vs 过微

> 垂直切分，意味着每个工作单元都能够独立完成完整的工作。而水平切分是将完整的工作单元拆分成几个部分（服务），每个部分负责完成工作的某一部分，这样做到了进一步的解耦，不同的服务之间也能够随意组合实现不同的功能。

## 企业级后端架构

随着用户、业务的增加，业务逻辑越来越复杂，自然也带来了更多的问题。

### 云计算

云计算：是指通过软件自动化管理，提供计算资源的服务网络

基础：
- 虚拟化技术 - 在一台机器上虚拟出来多个机器
- 编排方案 - 服务商方面
架构：
- IaaS(Infrastructure as a Service)
	- 买服务器还是租服务器
- PaaS(Platform as a Service)
	- 自己维护还是托管维护
- SaaS(Software as a Service)
	- 是否使用现成的软件功能
- FaaS(Function as a Service)
	- 把应用的逻辑层放到云上运行，所有资源的调度和事件的驱动交给云函数

### 云原生

- 弹性资源
	- 虚拟化容器
	- 快速扩缩容
- 微服务架构
	- 业务功能单元解耦
	- 统一的通信标准
- DevOps
	- 敏捷开发
	- CI/CD
- 服务网格
	- 业务与治理解耦
	- 异构系统的治理统一化
	- 复杂治理能力

