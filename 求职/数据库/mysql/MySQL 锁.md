## 全局锁

- 主要是备份数据库时使用，整个数据库都只读。但如果数据库事务支持 **可重复读** 隔离级别，备份期间依然可以更新数据。

## 表级锁

### 表锁

整个表都只读。不建议用。

### 元数据锁

MDL锁，防止更新数据时修改表结构。

### 意向锁

在加S锁/X锁之前先加个意向锁。目的是快速判断表里是否有记录被加锁。

### AUTO-INC 锁

自增字段加锁，执行完插入语句就释放。之后引入轻量级锁，赋完自增值就释放。

## 行级锁

### Record Lock

对一条记录加S锁/X锁

### Gap Lock

锁住一段记录

### Next-key Lock

临键锁，是前两者结合。既保护记录，又防止插入到间隙里。

### 插入意向锁

表示等待向间隙锁锁住的范围插入新纪录。