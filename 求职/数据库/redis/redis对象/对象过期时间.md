用于节约内存，或是给某些场景兜底。

## 设置方法

### 字符串

- SET key value EX seconds：设置多少秒后过期
- SET key value PX milliseconds：设置多少毫秒后过期
- TTL key：查看还有多久过期

更通用的命令是EXPIRE，可以对所有对象设置过期时间，也分秒和毫秒：
- EXPIRE key second：秒
- PEXPIRE key milliseconds：毫秒
设置过期时间会有个字典，记录key和过期时间的关系。

## 删除时机

有三种方式，定时删除，定期删除和惰性删除。

定时是时间到立即删除，对内存友好对CPU不友好。
定期是每隔一段时间检查，每次删除一部分过期键，属于渐进式兜底策略。
惰性是用的时候发现过期了就删

**Redis使用定期和惰性。**

1. 定期删除的频率
周期任务会做关闭过期客户端、删除过期Key的一系列任务，可以用INFO查看周期任务频率。
2. 每次删除的数量
每次检查的数量写死20个，但还会检查过期key占比，超过25%就再抽20个出来查。为了防止一直循环占用过久，增加了时间上限，不超过25ms。