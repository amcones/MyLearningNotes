有序集合，按关联积分排序。积分相同，按字典序。适用于需要排序集合的场景，如游戏排行榜。

## 命令

### 写

1. ZADD
特别注意添加时键在后，值在前。有很多可选参数。
2. ZREM
删除ZSet中元素。

### 读

1. ZCARD
查看ZSet中元素总数
2. ZRANGE
查询从start到stop范围的ZSET数据，WITHSCORES选填，不写输出里只有key。
3. ZREVRANGE
从大到小。
4. ZCOUNT
计算min-max范围内成员个数
5. ZRANK
查看ZSet中member的排名索引
6. ZSCORE
查询ZSet中成员的分数

## 底层原理

### 编码方式

有两种，一种是压缩列表，一种是SKIPLIST+HT。

满足两条规则使用压缩列表：
1. 所有字符串对象长度都小于64Byte（根据member长度决定）
2. 列表对象元素小于128个
否则用后者。

SKIPLIST是一种可以快速查找的多级链表结构，使用HT配合查询，可以在$O(1)$查询到成员分数值。

跳表使用多级索引，快速跳到查询值的附近，再往下到低级索引直到找到查询值。Redis在传统跳表上增加了回退指针和允许Score重复。

Redis跳表决定每一个节点，是否能增加一层的概率为25%，最大层数限制在Redis5.0是64层，在Redis7.0是32层。

平均时间复杂度$O(logn)$，最坏$O(n)$。